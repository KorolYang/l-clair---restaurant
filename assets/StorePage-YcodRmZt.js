import{u as c,m as n,j as e,L as f,a as N,b as u,r as d,s as b,c as p,d as C,f as x,B as D,p as S}from"./index-DLtAMzIM.js";const g=({product:s,inBasket:a})=>{const r=c(n),t=()=>{const l={...s,count:1};r(N(l))};return e.jsxDEV("div",{className:"card",children:[e.jsxDEV(f,{to:`/store/product/${s.id}`,children:e.jsxDEV("div",{className:"card__pic",children:e.jsxDEV("img",{src:s.picture,alt:""},void 0,!1,{fileName:"C:/Users/Korol/Desktop/restaurant/src/modules/StorePage/components/Card/Card.tsx",lineNumber:26,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Korol/Desktop/restaurant/src/modules/StorePage/components/Card/Card.tsx",lineNumber:25,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Korol/Desktop/restaurant/src/modules/StorePage/components/Card/Card.tsx",lineNumber:24,columnNumber:7},void 0),e.jsxDEV("div",{className:"card__description",children:[e.jsxDEV("h3",{className:"card__title",children:s.name},void 0,!1,{fileName:"C:/Users/Korol/Desktop/restaurant/src/modules/StorePage/components/Card/Card.tsx",lineNumber:30,columnNumber:9},void 0),e.jsxDEV("div",{className:"card__price",children:e.jsxDEV("p",{children:["цена: ",s.price,"р"]},void 0,!0,{fileName:"C:/Users/Korol/Desktop/restaurant/src/modules/StorePage/components/Card/Card.tsx",lineNumber:32,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Korol/Desktop/restaurant/src/modules/StorePage/components/Card/Card.tsx",lineNumber:31,columnNumber:9},void 0),a?e.jsxDEV("p",{className:"card__add-btn",children:"Товар в корзине"},void 0,!1,{fileName:"C:/Users/Korol/Desktop/restaurant/src/modules/StorePage/components/Card/Card.tsx",lineNumber:35,columnNumber:11},void 0):e.jsxDEV("button",{onClick:t,className:"card__add-btn",children:"Добавить в корзину"},void 0,!1,{fileName:"C:/Users/Korol/Desktop/restaurant/src/modules/StorePage/components/Card/Card.tsx",lineNumber:37,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Korol/Desktop/restaurant/src/modules/StorePage/components/Card/Card.tsx",lineNumber:29,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Korol/Desktop/restaurant/src/modules/StorePage/components/Card/Card.tsx",lineNumber:23,columnNumber:5},void 0)},k=()=>{const s=u(n,b),a=u(n,p),r=a==="все"?s:s.filter(o=>o.category===a),t=u(n,C),l=d.useRef(!1),m=o=>!!t.find(i=>i.id===o);return d.useEffect(()=>{if(l.current){const o=JSON.stringify(t);localStorage.setItem("basket",o)}l.current=!0},[t]),e.jsxDEV("div",{className:"table",children:r==null?void 0:r.map(o=>e.jsxDEV(g,{product:o,inBasket:m(o.id)},o.id,!1,{fileName:"C:/Users/Korol/Desktop/restaurant/src/modules/StorePage/components/StoreTable/StoreTable.tsx",lineNumber:33,columnNumber:9},void 0))},void 0,!1,{fileName:"C:/Users/Korol/Desktop/restaurant/src/modules/StorePage/components/StoreTable/StoreTable.tsx",lineNumber:31,columnNumber:5},void 0)},P=["все","эклеры","завтраки","салаты","напитки"],E=()=>{const s=c(n),a=r=>{s(S(r))};return d.useEffect(()=>{s(x())},[]),e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"filter-menu",children:P.map((r,t)=>e.jsxDEV(D,{onClick:()=>a(r),text:r,className:"filter-menu__btn"},t,!1,{fileName:"C:/Users/Korol/Desktop/restaurant/src/modules/StorePage/StorePage.tsx",lineNumber:27,columnNumber:11},void 0))},void 0,!1,{fileName:"C:/Users/Korol/Desktop/restaurant/src/modules/StorePage/StorePage.tsx",lineNumber:25,columnNumber:7},void 0),e.jsxDEV(k,{},void 0,!1,{fileName:"C:/Users/Korol/Desktop/restaurant/src/modules/StorePage/StorePage.tsx",lineNumber:35,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Korol/Desktop/restaurant/src/modules/StorePage/StorePage.tsx",lineNumber:24,columnNumber:5},void 0)};export{E as default};
